{
"version": 2,
"jobs": {
    "combine_reports": {
        "working_directory": "~/tmp",
        "docker": [
          {
            "image": "cypress/base:10",
            "environment": {
              "TERM": "xterm"
            }
          }
        ],
        "steps": [
            "checkout",
            {
              "attach_workspace": {
                "at": "~/"
              }
            },
          {
            "attach_workspace": {
              "at": "/tmp/mochawesome-report"
            }
          },
          {
            "run": "ls /tmp/mochawesome-report"
          },
          {
            "run": "node ./lib/combine.js"
          },
          {
            "store_artifacts": {
              "path": "mochareports"
            }
          }
        ]
      },
  "build": {
    "working_directory": "~/tmp",
    "docker": [
      {
        "image": "cypress/base:10",
        "environment": {
          "TERM": "xterm"
        }
      }
    ],
    "steps": [
      "checkout",
      {
        "run": "pwd"
      },
      {
        "run": "ls"
      },
      {
        "restore_cache": {
          "keys": [
            "v2-deps-{{ .Branch }}-{{ checksum \"package-lock.json\" }}",
            "v2-deps-{{ .Branch }}-",
            "v2-deps-"
          ]
        }
      },
      {
        "run": "npm ci"
      },
      {
        "save_cache": {
          "key": "v2-deps-{{ .Branch }}-{{ checksum \"package-lock.json\" }}",
          "paths": [
            "~/.npm",
            "~/.cache"
          ]
        }
      },
      {
        "persist_to_workspace": {
          "root": "~/",
          "paths": [
            ".cache",
            "tmp"
          ]
        }
      }
    ]
  }
 
},
"workflows": {
  "version": 2,
  "build_and_test": {
    "jobs": [
      "build"
      
    ]
  }
}
}